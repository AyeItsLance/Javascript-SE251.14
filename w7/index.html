<!DOCTYPE html>
<html>
<head>
<title>AJAX Assignment</title>
	<script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=sIVdSa5VA-Kh3kRmyPIl5liTv6YvYYAA_ftjv7ML0YTG72whi6lzfisklosx8sV5iaF2tl2pt1ohncyAyuD9W-M_wYDAXQicJ917RuonKlT7XSOuNybHEVohAW1A1ybf6TBWJYY5hAS6PwKMJk67AvElbaDK-TUizNirCbdh4RIuvNNLIYYXmIN8AdaY0zKPceMYj5b7-_j4vkKp0QjzfktbBhdJWmvRNoySKxG9ePhPlc0OL-Pcs-VxFuW5a5TUVz4YOUzOHOMIvrQbmjMad2ciKBwt4J07d54W0jfJ0uLjxqveo4iOT0wnrMxus4mMXgXWOT3qnAuFfCew02VPRdL4d4cnmAC6gFB2-ye5b7sBfLIwmhgoXM8O9z9hQ-XkqlUG85y0HKZO7XqdIuWa3Z1wTaLEVanCr3UyFQMMj4RvuVZUzjBZNfEGjVbWPRzQxFfUuhSZoTJx3URe3kwEpTxQIFEujgi9QSCWOBGmuRGqTS2cQkk9L4unknU45OHw8MIy7vNRLu9WlW_zLmOIkNwzzUSkl_GMgJxes_DRSSeNGT3d9ID3NJ4hWhJr1hdcCdP3eCvhwBYaLg-TpsWC8pq6dihkYsypPt92wRCM8icZd0MBQLHlH3EIQkto0XMr7apsW8zpwkEqPzqPuW6uBxwUvfeilwlvQOuJ_OXJatcRCxZqSCe7svevl5DK_-wmczzCNHzuKbossq4uJc9AKCYi7juLJ_Xg7bccBXa_KpZK2ELD7WrhsZTfHK09XGAcch2cVtmEwe4bYDMbGSxZtna-bBT_NKkgBnkx8te5UVoI-MOjG_gqxwmRGu6vOhRNIlgpSpK-N-LpGYPKVDdJyTmBnLEuIBYwkhvTL-hJsD8xEnPCrlJC_q2awpsIkw5N22JTFq6eLlU6P2HY4FeLG8RwkUVj6-ySjh1OpxXIzyrobxTCS2FWaXFWnkLSkcyGu42V0xhsXAighkGXdzt9iorEH3smd6A4veRkWxpDiHZXXbRRDWK0CGjT1CB6uLEepnA0Fr9VWlvwxh57ICqVJl497KwMhqfMlAaNnZbtr_X_Cj7RT4iiee4JfkhlBQUHk23Jo_jtqWY4KBASPNT8Ke1_DBevCMlB-7tBelO8MR6Ebq_3YjfjWljiFLmoSX8JOLDQzF7yCk1yyC0uUcaXkn5T5c5rKWza-SrHdrXANr37NgD6NLL8f5qYbPoq_dyrUNP9IbTxwOP9t32xe7YwGjMWqlGaDhlDroNAuy86mwuvBoJMPL3y-paBPCTERikW-me6ftPwOxQN1wNxy0uBEVzhJQlOV8mnErqaETgMnsXCJ8zAVYguBlm-JfT_Q66xsYRGj4FkWa0sfDun0GRHQ2abXSBLEKo5qe1M2HGvygUcsu_EmDC4DX2rPmYIXxp-r0rsYz2MqHCqtcu_llyWN3WN4lf9r34TLOF6c5oRszBqNCp1atFtt8aXK6ViZVWYGtnyeEMcLGVMqcU6RiXMuCS8Dp2PxHBL70gUUw34rnfBlMqBLdLpwSY6_KAZhqZ2i06EezJTSTodBZ08MHIADqE2ONnwz4JBUpv7VgwmslE4Chu7b2F-6uc8xNceGHy1-EXIZGRjTE1Ndlph3tq7FLcArpNZg_LNcPHeLySjl4D3sIFxkTCpOAuUXNS-gmLeko6AH48QVJZ2PXOtdptAv9KIYb1ELzkIzoxDaWKuufR6enmeChfVJsDx20eRNWh2esFCpiWRkABxCzkabb4HR5yt4fhOPBZN0BtFjAy3VC9oV8c6j9qGb3tolXuzzTp90AI7u7-1ABJJgQn5GvlUhUGnvv-k6ddEoGm2vAYBKrN3aEgfQBIcRrnxitzB0JqLYW7kOUuNskewm_0hJuXb81rkplXpUynMqVn7Uohzad2oVPN1Z6bhQs1DiZvFxUyCOZd_6GNLFsJg4Px-4l44OA" charset="UTF-8"></script><style type="text/css">
		section{	
			margin-bottom:25px;
		}
		section section{
			width:100%;
			float:left;
			border:1px solid black;
		}
		#main-content section{
			width:33%;
			float:left;
		}
		#main-content{
			margin-bottom:25px;
		}
	</style>
</head>
<body>
	<div id="main-content">
		<!--
			Find the highest paid employee for each job listed below
			Then use JavaScript to fill in the information
		-->
		<!--Once you are done filling in all of the jobs, you will turn the highest average salary green -->
		<section id="database-analyst-area" >
			<h2>Database Analyst | Highest Paid</h2>
			<h3>First Name:</h3>
			<div class="first"><!--The first name goes here--></div>
			<h3>Last Name:</h3>
			<div class="last"><!--The last name goes here--></div>
			<h3>Salary:</h3>
			<div class="salary"><!--The salary goes here--></div>
			<h3>Average Salary:</h3>
			<h3 class="average"><!--The average salary for all database-analysts goes here--></h3>
			
		</section>
     
		<section  id="web-developer-area" >
			<h2>Web Developer | Highest Paid </h2>
			<h3>First Name:</h3>
			<div class="first"></div>
			<h3>Last Name:</h3>
			<div class="last"></div>
			<h3>Salary:</h3>
			<div class="salary"></div>
			<h3>Average Salary:</h3>
			<h3 class="average"></h3>

		</section >

		<section  id="software-developer-area">
			<h2>Software Developer | Highest Paid </h2>
			<h3>First Name:</h3>
			<div class="first"></div>
			<h3>Last Name:</h3>
			<div class="last"></div>
			<h3>Salary:</h3>
			<div class="salary"></div>
			<h3>Average Salary:</h3>
			<h3 class="average"></h3>
		</section >
	</div>
	
	<!--Use the form inputs to search for employees. Then display the employees information in the #output <div>-->
	<section  id="search-area">
		<input type="text" placeholder="First Name" id="first-name">
		<input type="text" placeholder="Last Name" id="last-name">
		<input type="button" id="search-submit" value="search">
		<section id="search-output">
			<h2>Search Output</h2>
			<div class="output">
				<!--Output search info to here.-->
			</div>
		</section>
	</section >

	<!--Use the button inputs to display a list of everyone in that job-->
	<section  id="list-area">
		<input type="button" value="List Database Analysts" id="list-database-analyst">
		<input type="button" value="List Web Developers" id="list-web-developer">
		<input type="button" value="List Software Developers" id="list-software-developers" >
		<section id="list-output">
			<h2>List Output</h2>
			<div id="output" class="output">
				<!--Output list info to here.-->
			</div>
		</section>
	</section >

	<script>



		 fetch('https://neit-se266-class.herokuapp.com/salaries.php')
		.then(response => response.json())
		.then(people => {

			console.log(people)

			dbAnalysts = [];
			webDev = [];
			softDev = [];

			for(let i=0; i<people.length;i++)
			{
				if(people[i].jobTitle === "Database Analyst")
				{
					dbAnalysts.push(people[i])
				}
			}

			for(let i=0; i<people.length;i++)
			{

				if(people[i].jobTitle === "Software Developer")
				{
					softDev.push(people[i])
				}


			}

			for(let i=0; i<people.length;i++)
			{
				if(people[i].jobTitle === "Web Developer")
				{
					webDev.push(people[i])
				}

			}
			
			console.log(webDev)

			

			// var inner = document.querySelector(`#database-analyst-area`)

			// inner.addEventListener('DOMContentLoaded',doSomething)


			// function doSomething(e){

			// 	e.preventDefault()

			// 	document.querySelector('.first').innerHTML = message
			// }


			var dbAna = document.querySelector("#list-database-analyst")

			var webdv = document.querySelector("#list-web-developer")

			var sftdv = document.querySelector("#list-software-developers")

			webdv.addEventListener('click', doSomething)
			dbAna.addEventListener('click', doSomething2)
			sftdv.addEventListener('click', doSomething3)


			function doSomething(e){

				e.preventDefault()

				message = ``

				for(let i=0; i<webDev.length;i++)
				{
					message += `<div id="${i}" class="border:1px">`

					
					message += `NAME:&nbsp;${webDev[i].name.first}`

					message += `&nbsp;`

					message += `${webDev[i].name.last}`

					message += `&nbsp;&nbsp;&nbsp; SALARY: $`

					message += `${webDev[i].salary}`

					message += `&nbsp;&nbsp;&nbsp; JOB TITLE:`

					message += `${webDev[i].jobTitle}`
					
					message += `</div>`


				}


				document.querySelector('section#list-output').innerHTML = message
			}

			

			function doSomething3(e){

				e.preventDefault()

				message = ``

				for(let i=0; i<softDev.length;i++)
				{
					message += `<div id="${i}" class="border:1px">`

					
					message += `NAME:&nbsp;${softDev[i].name.first}`

					message += `&nbsp;`

					message += `${softDev[i].name.last}`

					message += `&nbsp;&nbsp;&nbsp; SALARY: $`

					message += `${softDev[i].salary}`

					message += `&nbsp;&nbsp;&nbsp; JOB TITLE:`

					message += `${softDev[i].jobTitle}`
					
					message += `</div>`


				}

				document.querySelector('section#list-output').innerHTML = message
			}

			

			function doSomething2(e){

				e.preventDefault()

				message = ``

				for(let i=0; i<dbAnalysts.length;i++)
				{
					message += `<div id="${i}" class="border:1px">`

					
					message += `NAME:&nbsp;${dbAnalysts[i].name.first}`

					message += `&nbsp;`

					message += `${dbAnalysts[i].name.last}`

					message += `&nbsp;&nbsp;&nbsp; SALARY: $`

					message += `${dbAnalysts[i].salary}`

					message += `&nbsp;&nbsp;&nbsp; JOB TITLE:`

					message += `${dbAnalysts[i].jobTitle}`
					
					message += `</div>`


				}

				document.querySelector('section#list-output').innerHTML = message
			}


			var databaseMax = Math.max.apply(Math, dbAnalysts.map(function(o) { return o.salary; }))

	


			//creating my data anal avg earnings
			var dbSal = 0;

			var dbTotal = 0

			for(let i = 0; i<dbAnalysts.length; i++)
			{
				var dbSal = parseFloat(dbAnalysts[i].salary)

				dbTotal += dbSal
			}

			
			var dbAVG = dbTotal / dbAnalysts.length

			



			//creating my web deb avg earnings
			var webSal = 0;

			var webTotal = 0

			for(let i = 0; i<webDev.length; i++)
			{
				var webSal = parseFloat(webDev[i].salary)

				webTotal += webSal
			}

			
			var webAVG = webTotal / webDev.length

			//creating my software avg earnings
			var softSal = 0;

			var softTotal = 0

			for(let i = 0; i<softDev.length; i++)
			{
				var softSal = parseFloat(softDev[i].salary)

				softTotal += softSal
			}

			//creating my avg for part 1
			var softAVG = softTotal / softDev.length

			console.log(softAVG)


			databaseAnalysts = document.getElementById(`database-analyst-area`)

			webDevelopment = document.getElementById('web-developer-area')

			softwareDev = document.getElementById('software-developer-area')



			var weird = document.getElementById("database-analyst-area").getElementsByClassName('average')[0]

			weird.innerHTML = "$" + (Number((dbAVG).toFixed(2)) + "0");

			var weird2 = document.getElementById("web-developer-area").getElementsByClassName('average')[0]

			weird2.innerHTML = "$" + (Number((webAVG).toFixed(2)) + "0");

			var weird3 = document.getElementById("software-developer-area").getElementsByClassName('average')[0]

			weird3.innerHTML = "$" + (Number((softAVG).toFixed(2)) + "0");

			

			

			

	

			







		});








	</script>

</body>
</html>